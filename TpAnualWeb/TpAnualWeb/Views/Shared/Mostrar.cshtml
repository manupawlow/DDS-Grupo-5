
@{
    ViewBag.Title = "Mostrar";
}

@using TP_Anual;

<!DOCTYPE html>
<html lang="en">

<body id="page-top">
    <section id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    @{

                        //<---------------------------------SUCCESS--------------------------------->
                        if (ViewBag.mostrar == "SUCCESS")
                        {
                            <p>@ViewBag.success</p>
                        }

                        //<---------------------------------EGRESOS--------------------------------->

                        if (ViewBag.mostrar == "EGRESOS")
                        {
                            foreach (var u in ViewBag.egresos)
                            {
                                <p><b>EGRESO ID: </b>@u.id_egreso</p>
                                <p><b>FECHA: </b>@u.fecha</p>
                                <p><b>DESCRIPCION: </b>@u.descripcion</p>
                                <p><b>PRESUPUESTOS REQUERIDOS: </b>@u.cantPresupuestos</p>

                                if (@u.presupuestos != null)
                                {
                                    <p><b>PRESUPUESTOS: </b>@u.presupuestos.Count</p>
                                }

                                if (@u.proveedorElegido != null)
                                {
                                    <p><b>PROVEEDOR ELEGIDO: </b>@u.proveedorElegido.CUIT</p>
                                }

                                if (@u.id_ingreso != 0)
                                {
                                    <p><b>ID INGRESO ASOCIADO: </b>@u.id_ingreso</p>
                                }
                                else
                                {
                                    <p><b>ID INGRESO ASOCIADO: </b>No se asocio a ningun ingreso</p>
                                }

                                if (@u.id_proyecto != 0)
                                {
                                    <p><b>ID PROYECTO ASOCIADO: </b>@u.id_proyecto</p>
                                }
                                else
                                {
                                    <p><b>ID PROYECTO ASOCIADO: </b>No se asocio a ningun proyecto</p>
                                }

                                if (u.items != null)
                                {
                                    <p><b>ITEMS: DESCRIPCION | CANTIDAD | PRECIO POR UNIDAD</b></p>
                                    foreach (var i in u.items)
                                    {
                                        <p><b>- </b>@i.descripcion | @i.cantidad | @i.valor </p>
                                    }
                                }

                                <hr />
                            }
                        }

                        if (ViewBag.mostrar == "EGRESO")
                        {

                            if (ViewBag.egreso != null)
                            {
                                <p><b>EGRESO ID: </b>@ViewBag.egreso.id_egreso</p>
                                <p><b>FECHA: </b>@ViewBag.egreso.fecha</p>
                                <p><b>DESCRIPCION: </b>@ViewBag.egreso.descripcion</p>
                                <p><b>PRESUPUESTOS REQUERIDOS: </b>@ViewBag.egreso.cantPresupuestos</p>

                                if (@ViewBag.egreso.presupuestos != null)
                                {
                                    <p><b>PRESUPUESTOS: </b>@ViewBag.egreso.presupuestos.Count</p>
                                }

                                if (@ViewBag.egreso.proveedorElegido != null)
                                {
                                    <p><b>PROVEEDOR ELEGIDO: </b>@ViewBag.egreso.proveedorElegido.CUIT</p>
                                }

                                if (@ViewBag.egreso.id_ingreso != 0)
                                {
                                    <p><b>ID INGRESO ASOCIADO: </b>@ViewBag.egreso.id_ingreso</p>
                                }
                                else
                                {
                                    <p><b>ID INGRESO ASOCIADO: </b>No se asocio a ningun ingreso</p>
                                }

                                if (@ViewBag.egreso.id_proyecto != 0)
                                {
                                    <p><b>ID PROYECTO ASOCIADO: </b>@ViewBag.egreso.id_proyecto</p>
                                }
                                else
                                {
                                    <p><b>ID PROYECTO ASOCIADO: </b>No se asocio a ningun proyecto</p>
                                }

                                if (ViewBag.items != null)
                                {
                                    <p><b>ITEMS: DESCRIPCION | CANTIDAD | PRECIO POR UNIDAD</b></p>
                                    foreach (var i in ViewBag.items)
                                    {
                                        <p><b>- </b>@i.descripcion | @i.cantidad | @i.valor </p>
                                    }
                                }


                            }
                            else
                            {
                                <p>No existe ese egreso</p>
                            }
                        }

                        if (ViewBag.mostrar == "VALIDACION")
                        {
                            <p>@ViewBag.validacion</p>
                        }

                        if (ViewBag.mostrar == "BANDEJA DE MENSAJES")
                        {
                            //if (ViewBag.bandeja != null)
                            //{
                            foreach (var mensaje in ViewBag.mensajes)
                            {
                                <p>@mensaje</p>
                            }
                            //}
                        }

                        //<---------------------------------INGRESOS--------------------------------->

                        if (ViewBag.mostrar == "INGRESOS")
                        {
                            if (ViewBag.ingresos != null)
                            {
                                foreach (var i in ViewBag.ingresos)
                                {
                                    <p><b>INGRESO ID: </b>@i.id_ingreso</p>
                                    <p><b>DESCRIPCION: </b>@i.descripcion</p>
                                    <p><b>TOTAL: </b>@i.total</p>
                                    <p><b>EGRESOS ASIGNADOS: </b>@i.egresos.Count</p>
                                    if (@i.id_proyecto != 0)
                                    {
                                        <p><b>ID PROYECTO ASOCIADO: </b>@i.id_proyecto</p>
                                    }
                                    else
                                    {
                                        <p><b>ID PROYECTO ASOCIADO: </b>No se asocio a ningun proyecto</p>
                                    }
                                    <hr />
                                }
                            }

                        }

                        if (ViewBag.mostrar == "INGRESO")
                        {
                            if (ViewBag.ingreso != null)
                            {
                                <p><b>INGRESO ID: </b>@ViewBag.ingreso.id_ingreso</p>
                                <p><b>DESCRIPCION: </b>@ViewBag.ingreso.descripcion</p>
                                <p><b>TOTAL: </b>@ViewBag.ingreso.total</p>
                                <p><b>EGRESOS ASIGNADOS: </b>@ViewBag.ingreso.egresos.Count</p>
                                if (@ViewBag.ingreso.id_proyecto != 0)
                                {
                                    <p><b>ID PROYECTO ASOCIADO: </b>@ViewBag.ingreso.id_proyecto</p>
                                }
                                else
                                {
                                    <p><b>ID PROYECTO ASOCIADO: </b>No se asocio a ningun proyecto</p>
                                }

                            }
                            else
                            {
                                <p>No existe ese ingreso</p>
                            }
                        }

                        //<---------------------------------PRESUPUESTOS--------------------------------->

                        if (ViewBag.mostrar == "PRESUPUESTOS")
                        {
                            foreach (var u in ViewBag.presupuestos)
                            {
                                <p><b>PRESUPUESTO ID: </b>@u.id_presupuesto</p>
                                <p><b>TOTAL: $</b>@u.valor_total</p>
                                <p><b>ID EGRESO: </b>@u.id_egreso</p>
                                <p><b>ID PROVEEDOR: </b>@u.id_prov</p>
                                <p><b>ITEMS: DESCRIPCION | CANTIDAD | PRECIO POR UNIDAD</b></p>
                                foreach (var i in u.itemsDePresupuesto)
                                {
                                    <p><b>- </b>@i.descripcion | @i.cantidad | @i.valor </p>
                                }

                                <hr />
                            }
                        }

                        //<---------------------------------PROYECTOS--------------------------------->

                        if (ViewBag.mostrar == "PROYECTO")
                        {

                            if (ViewBag.proyecto != null)
                            {
                                <p><b>PROYECTO ID: </b>@ViewBag.proyecto.id</p>
                                <p><b>DIRECTOR: </b>@ViewBag.proyecto.director.nombre</p>
                                <p><b>MONTO TOTAL: </b>@ViewBag.proyecto.montoTotal</p>
                                <p><b>PRESUPUESTOS EXIGIBLES: </b>@ViewBag.proyecto.cantPresupuestosExigibles</p>

                            }
                            else
                            {
                                <p>No existe ese proyecto</p>
                            }
                        }

                        if (ViewBag.mostrar == "PROYECTOS")
                        {
                            foreach (var u in ViewBag.proyectos)
                            {
                                <p><b>PROYECTO ID: </b>@u.id</p>
                                <p><b>DIRECTOR: </b>@u.director.nombre</p>
                                <p><b>MONTO TOTAL: </b>@u.montoTotal</p>
                                <p><b>PRESUPUESTOS EXIGIBLES: </b>@u.cantPresupuestosExigibles</p>
                                <hr />
                            }

                        }

                        //<---------------------------------PROVEEDORES--------------------------------->

                        if (ViewBag.mostrar == "PROVEEDORES")
                        {
                            foreach (var u in ViewBag.proveedores)
                            {
                                <p><b>PROVEEDOR ID: </b>@u.id_prov</p>
                                <p><b>CUIT: </b>@u.CUIT</p>
                                <p><b>RAZON SOCIAL: </b>@u.razon_social</p>
                                <hr />
                            }

                        }

                        //<---------------------------------CATEGORIAS Y CRITERIOS--------------------------------->

                        if (ViewBag.mostrar == "CATEGORIAS")
                        {
                            foreach (var u in ViewBag.categorias)
                            {
                                <p><b>CATEGORIA ID: </b>@u.id_categoria</p>
                                <p><b>CRITERIO ID: </b>@u.id_criterio</p>
                                <p><b>DESCRIPCION: </b>@u.descripcion</p>
                                <hr />
                            }

                        }

                        if (ViewBag.mostrar == "CRITERIOS")
                        {
                            foreach (var u in ViewBag.criterios)
                            {
                                <p><b>CRITERIO ID: </b>@u.id_criterio</p>
                                <p><b>DESCRIPCION: </b>@u.descripcion</p>
                                <p><b>JERARQUIA: </b>@u.jerarquia</p>
                                <hr />
                            }

                        }


                        //<---------------------------------BITACORA--------------------------------->

                        if (ViewBag.mostrar == "BITACORA")
                        {
                            foreach (var log in ViewBag.bitacora)
                            {
                                <p>@log</p>
                            }

                        }

                        //<---------------------------------ERROR--------------------------------->

                        if (ViewBag.mostrar == "ERROR")
                        {
                            <p>@ViewBag.error</p>
                        }

                    }


                </div>
            </div>
        </div>
    </section>
</body>

</html>
